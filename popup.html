<!DOCTYPE html>
<html>
<head>
  <style>
    body { width: 300px; padding: 10px; font-family: Arial, sans-serif; }
    button { width: 100%; padding: 8px; margin-top: 10px; }
    #chapterSelector { display: none; margin-top: 10px; }
    .range-input { display: flex; align-items: center; margin-bottom: 10px; }
    .range-input input { width: 50px; margin: 0 5px; }
    #status { margin-top: 10px; }
    .settings-toggle { cursor: pointer; color: blue; text-decoration: underline; margin-top: 10px; display: block; }
    #advancedSettings { display: none; margin-top: 10px; border-top: 1px solid #ccc; padding-top: 10px; }
    .setting-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
    .setting-row input { width: 60px; }
  </style>
</head>
<body>
  <h3>Comick.io Downloader</h3>
  <div id="singleChapterMode">
    <button id="downloadBtn">Download Current Chapter</button>
  </div>
  
  <div id="batchMode" style="display:none;">
    <div id="mangaInfo"></div>
    <div id="chapterSelector">
      <div class="range-input">
        <label>From Chapter:</label>
        <input type="number" id="fromChapter" min="1" step="0.1">
        <label>To:</label>
        <input type="number" id="toChapter" min="1" step="0.1">
      </div>
      <button id="downloadBatchBtn">Download Selected Chapters</button>
    </div>
  </div>
  
  <span class="settings-toggle" id="toggleSettings">Show Advanced Settings</span>
  
  <div id="advancedSettings">
    <div class="setting-row">
      <label>Page Load Delay (sec):</label>
      <input type="number" id="pageLoadDelay" min="1" max="30" value="10">
    </div>
    <div class="setting-row">
      <label>Image Download Delay (sec):</label>
      <input type="number" id="imageDelay" min="0.5" max="10" step="0.5" value="2">
    </div>
    <div class="setting-row">
      <label>Chapter Delay (sec):</label>
      <input type="number" id="chapterDelay" min="1" max="30" value="10">
    </div>
    <button id="saveSettings">Save Settings</button>
  </div>
  
  <div id="status"></div>
  <script src="popup.js"></script>
</body>
</html>

